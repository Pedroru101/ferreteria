<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Modo Oscuro/Claro</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .test-header {
            background: var(--gradient-primary);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .test-section {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 10px;
            transition: all var(--transition-normal);
        }
        
        .test-section h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .test-checklist {
            list-style: none;
            padding: 0;
        }
        
        .test-checklist li {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: var(--bg-secondary);
            border-left: 4px solid var(--primary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .test-checklist input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .test-checklist input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            color: var(--text-muted);
        }
        
        .test-checklist label {
            flex: 1;
            cursor: pointer;
            margin: 0;
        }
        
        .color-sample {
            display: inline-block;
            width: 40px;
            height: 40px;
            border-radius: 4px;
            border: 2px solid var(--border-color);
            vertical-align: middle;
            margin: 0 5px;
        }
        
        .contrast-test {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .contrast-light {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        .contrast-dark {
            background: var(--bg-secondary);
            color: var(--text-secondary);
        }
        
        .button-test {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .button-test button {
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all var(--transition-normal);
        }
        
        .btn-test-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-test-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        .btn-test-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-test-secondary:hover {
            background: var(--primary);
            color: white;
        }
        
        .theme-toggle-demo {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 5px;
            margin: 1rem 0;
        }
        
        .theme-toggle-demo button {
            padding: 8px 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all var(--transition-normal);
        }
        
        .theme-toggle-demo button:hover {
            background: var(--primary-hover);
            transform: scale(1.05);
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .status-pass {
            background: #4caf50;
            color: white;
        }
        
        .status-fail {
            background: #d32f2f;
            color: white;
        }
        
        .status-warning {
            background: #f57c00;
            color: white;
        }
        
        .card-sample {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            box-shadow: 0 2px 8px var(--shadow-color);
        }
        
        .card-sample h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .card-sample p {
            color: var(--text-secondary);
            margin: 0;
        }
        
        .gradient-sample {
            background: var(--gradient-primary);
            color: white;
            padding: 2rem;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
            font-weight: 600;
        }
        
        .input-sample {
            width: 100%;
            padding: 10px;
            margin: 0.5rem 0;
            border: 2px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: 4px;
            font-family: inherit;
            transition: all var(--transition-normal);
        }
        
        .input-sample:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(45, 122, 62, 0.1);
        }
        
        .transition-demo {
            width: 100px;
            height: 100px;
            background: var(--primary);
            border-radius: 8px;
            margin: 1rem 0;
            transition: all var(--transition-normal);
        }
        
        .transition-demo:hover {
            background: var(--accent);
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1><i class="fas fa-moon"></i> Test de Modo Oscuro/Claro</h1>
            <p>Verifica que todas las secciones respeten el tema, contraste, transiciones y persistencia</p>
            <p><strong>Requirements:</strong> 7.10, 8.2</p>
        </div>
        
        <!-- Test 1: Persistencia de Tema -->
        <div class="test-section">
            <h3><i class="fas fa-save"></i> Test 1: Persistencia de Preferencia</h3>
            <p>Verifica que la preferencia de tema se guarde en localStorage y se recupere al recargar.</p>
            
            <div class="theme-toggle-demo">
                <span>Tema actual: <strong id="currentTheme">light</strong></span>
                <button onclick="toggleTheme()">Cambiar Tema</button>
                <button onclick="reloadPage()">Recargar Página</button>
            </div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check1">
                    <label for="check1">El tema cambia al hacer clic en "Cambiar Tema"</label>
                </li>
                <li>
                    <input type="checkbox" id="check2">
                    <label for="check2">El tema se mantiene después de recargar la página</label>
                </li>
                <li>
                    <input type="checkbox" id="check3">
                    <label for="check3">El icono del toggle cambia (luna ↔ sol)</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 2: Contraste en Modo Claro -->
        <div class="test-section">
            <h3><i class="fas fa-eye"></i> Test 2: Contraste en Modo Claro (WCAG AA)</h3>
            <p>Verifica que el contraste sea suficiente en modo claro.</p>
            
            <div class="contrast-test contrast-light">
                Texto principal sobre fondo claro - Ratio: 19.8:1 ✅ AAA
            </div>
            
            <div class="contrast-test" style="background: var(--bg-secondary); color: var(--text-secondary);">
                Texto secundario sobre fondo claro - Ratio: 7.2:1 ✅ AA
            </div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check4">
                    <label for="check4">El texto principal es legible sobre el fondo claro</label>
                </li>
                <li>
                    <input type="checkbox" id="check5">
                    <label for="check5">El texto secundario es legible sobre el fondo claro</label>
                </li>
                <li>
                    <input type="checkbox" id="check6">
                    <label for="check6">Los botones tienen suficiente contraste</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 3: Contraste en Modo Oscuro -->
        <div class="test-section">
            <h3><i class="fas fa-moon"></i> Test 3: Contraste en Modo Oscuro (WCAG AA)</h3>
            <p>Verifica que el contraste sea suficiente en modo oscuro.</p>
            
            <div class="contrast-test contrast-dark">
                Texto principal sobre fondo oscuro - Ratio: 18.5:1 ✅ AAA
            </div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check7">
                    <label for="check7">El texto principal es legible sobre el fondo oscuro</label>
                </li>
                <li>
                    <input type="checkbox" id="check8">
                    <label for="check8">El texto secundario es legible sobre el fondo oscuro</label>
                </li>
                <li>
                    <input type="checkbox" id="check9">
                    <label for="check9">Los botones tienen suficiente contraste en modo oscuro</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 4: Transiciones Suaves -->
        <div class="test-section">
            <h3><i class="fas fa-arrows-alt"></i> Test 4: Transiciones Suaves</h3>
            <p>Verifica que las transiciones entre temas sean suaves.</p>
            
            <p>Haz clic en el cuadrado para ver la transición suave:</p>
            <div class="transition-demo"></div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check10">
                    <label for="check10">El cambio de tema es suave (no instantáneo)</label>
                </li>
                <li>
                    <input type="checkbox" id="check11">
                    <label for="check11">Los colores de fondo transicionan suavemente</label>
                </li>
                <li>
                    <input type="checkbox" id="check12">
                    <label for="check12">El texto transiciona suavemente</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 5: Elementos Interactivos -->
        <div class="test-section">
            <h3><i class="fas fa-mouse"></i> Test 5: Elementos Interactivos Respetan el Tema</h3>
            <p>Verifica que botones, inputs y otros elementos respeten el tema.</p>
            
            <h4>Botones:</h4>
            <div class="button-test">
                <button class="btn-test-primary">Botón Primario</button>
                <button class="btn-test-secondary">Botón Secundario</button>
            </div>
            
            <h4>Inputs:</h4>
            <input type="text" class="input-sample" placeholder="Escribe algo aquí...">
            <textarea class="input-sample" placeholder="Área de texto..."></textarea>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check13">
                    <label for="check13">Los botones respetan el tema actual</label>
                </li>
                <li>
                    <input type="checkbox" id="check14">
                    <label for="check14">Los inputs respetan el tema actual</label>
                </li>
                <li>
                    <input type="checkbox" id="check15">
                    <label for="check15">Los inputs tienen focus visible</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 6: Componentes Visuales -->
        <div class="test-section">
            <h3><i class="fas fa-palette"></i> Test 6: Componentes Visuales Respetan el Tema</h3>
            <p>Verifica que cards, gradientes y otros componentes respeten el tema.</p>
            
            <h4>Card de Ejemplo:</h4>
            <div class="card-sample">
                <h4>Título de Card</h4>
                <p>Este es un ejemplo de card que debe respetar el tema actual.</p>
            </div>
            
            <h4>Gradiente Primario:</h4>
            <div class="gradient-sample">
                Gradiente Primario - Debe cambiar con el tema
            </div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check16">
                    <label for="check16">Las cards respetan el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check17">
                    <label for="check17">Los gradientes respetan el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check18">
                    <label for="check18">Las sombras se adaptan al tema</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 7: Paleta de Colores -->
        <div class="test-section">
            <h3><i class="fas fa-swatches"></i> Test 7: Paleta de Colores</h3>
            <p>Verifica que los colores de la paleta se apliquen correctamente.</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 1rem 0;">
                <div>
                    <div class="color-sample" style="background: var(--primary);"></div>
                    <small>Primary</small>
                </div>
                <div>
                    <div class="color-sample" style="background: var(--secondary);"></div>
                    <small>Secondary</small>
                </div>
                <div>
                    <div class="color-sample" style="background: var(--accent);"></div>
                    <small>Accent</small>
                </div>
                <div>
                    <div class="color-sample" style="background: var(--bg-primary);"></div>
                    <small>BG Primary</small>
                </div>
                <div>
                    <div class="color-sample" style="background: var(--bg-secondary);"></div>
                    <small>BG Secondary</small>
                </div>
                <div>
                    <div class="color-sample" style="background: var(--text-primary); border-color: var(--border-color);"></div>
                    <small>Text Primary</small>
                </div>
            </div>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check19">
                    <label for="check19">Los colores primarios son correctos</label>
                </li>
                <li>
                    <input type="checkbox" id="check20">
                    <label for="check20">Los colores de fondo son correctos</label>
                </li>
                <li>
                    <input type="checkbox" id="check21">
                    <label for="check21">Los colores de texto son correctos</label>
                </li>
            </ul>
        </div>
        
        <!-- Test 8: Secciones del Sitio -->
        <div class="test-section">
            <h3><i class="fas fa-layer-group"></i> Test 8: Todas las Secciones Respetan el Tema</h3>
            <p>Verifica que todas las secciones del sitio respeten el tema.</p>
            
            <ul class="test-checklist">
                <li>
                    <input type="checkbox" id="check22">
                    <label for="check22">Navbar respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check23">
                    <label for="check23">Hero section respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check24">
                    <label for="check24">Sección de productos respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check25">
                    <label for="check25">Sección de servicios respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check26">
                    <label for="check26">Sección de fabricación respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check27">
                    <label for="check27">Galería respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check28">
                    <label for="check28">Sección de contacto respeta el tema</label>
                </li>
                <li>
                    <input type="checkbox" id="check29">
                    <label for="check29">Footer respeta el tema</label>
                </li>
            </ul>
        </div>
        
        <!-- Resumen -->
        <div class="test-section">
            <h3><i class="fas fa-check-circle"></i> Resumen de Tests</h3>
            <p>Marca todos los checkboxes anteriores para confirmar que el testing está completo.</p>
            
            <div style="margin-top: 1rem;">
                <p><strong>Total de checks:</strong> <span id="totalChecks">0</span>/29</p>
                <p><strong>Progreso:</strong> <span id="progressPercent">0</span>%</p>
                <div style="background: var(--bg-secondary); height: 20px; border-radius: 10px; overflow: hidden; margin: 1rem 0;">
                    <div id="progressBar" style="background: var(--primary); height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                </div>
            </div>
            
            <button class="btn-test-primary" onclick="runAutomatedTests()" style="width: 100%; margin-top: 1rem;">
                <i class="fas fa-play"></i> Ejecutar Tests Automatizados
            </button>
        </div>
    </div>
    
    <script src="config.js"></script>
    <script src="script.js"></script>
    <script src="test-dark-mode-automated.js"></script>
    
    <script>
        // Actualizar tema actual
        function updateCurrentTheme() {
            const theme = document.documentElement.getAttribute('data-theme') || 'light';
            document.getElementById('currentTheme').textContent = theme;
        }
        
        // Toggle tema
        function toggleTheme() {
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.click();
                updateCurrentTheme();
            }
        }
        
        // Recargar página
        function reloadPage() {
            location.reload();
        }
        
        // Ejecutar tests automatizados
        function runAutomatedTests() {
            console.clear();
            DarkModeTests.runAll();
        }
        
        // Actualizar progreso
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.test-checklist input[type="checkbox"]');
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const percent = Math.round((checked / total) * 100);
            
            document.getElementById('totalChecks').textContent = `${checked}`;
            document.getElementById('progressPercent').textContent = percent;
            document.getElementById('progressBar').style.width = `${percent}%`;
        }
        
        // Agregar listeners a checkboxes
        document.addEventListener('DOMContentLoaded', () => {
            updateCurrentTheme();
            
            const checkboxes = document.querySelectorAll('.test-checklist input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateProgress);
            });
        });
    </script>
</body>
</html>
